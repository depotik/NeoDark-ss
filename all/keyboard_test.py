import os
import sys
import time
from datetime import datetime

def print_header():
    """–í—ã–≤–æ–¥–∏—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã"""
    print("‚å®Ô∏è –¢–µ—Å—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (CLI)")
    print("=" * 30)

def get_neodark_banner():
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∞–Ω–Ω–µ—Ä NeoDark"""
    return '''\033[96m‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïó
‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ïù
‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù 
‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ñà‚ñà‚ïó 
‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïó
‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù\033[0m'''

def show_neodark_logo():
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–æ—Ç–∏–ø NeoDark"""
    print(get_neodark_banner())
    print()

def show_keyboard_info():
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã"""
    print("‚ÑπÔ∏è –¢–µ—Å—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:")
    print("-" * 25)
    print("   –¢–µ—Å—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å")
    print("   —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –∫–ª–∞–≤–∏—à.")
    print()
    print("   –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è:")
    print("   ‚Ä¢ –ù–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à")
    print("   ‚Ä¢ –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ")
    print("   ‚Ä¢ –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∫–ª–∞–≤–∏—à")
    print("   ‚Ä¢ –°–∫–æ—Ä–æ—Å—Ç—å –≤–≤–æ–¥–∞")

def run_keyboard_test():
    """–ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã"""
    print("\n‚å®Ô∏è –¢–µ—Å—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:")
    print("-" * 25)
    
    try:
        print("–ù–∞–∂–∏–º–∞–π—Ç–µ –∫–ª–∞–≤–∏—à–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ.")
        print("–î–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ç–µ—Å—Ç–∞ –Ω–∞–∂–º–∏—Ç–µ ESC.")
        print()
        
        # –ò–º–∏—Ç–∞—Ü–∏—è —Ç–µ—Å—Ç–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        print("üîÑ –ù–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç...")
        
        import time
        import random
        
        # –°–∏–º—É–ª—è—Ü–∏—è –Ω–∞–∂–∞—Ç–∏–π –∫–ª–∞–≤–∏—à
        test_keys = [
            "A", "B", "C", "D", "E", "F", "G", "H", "I", "J",
            "1", "2", "3", "4", "5", "6", "7", "8", "9", "0",
            "F1", "F2", "F3", "F4", "F5", "F6", "F7", "F8", "F9", "F10",
            "Ctrl", "Alt", "Shift", "Enter", "Space", "Tab", "Caps", "ESC"
        ]
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º "–Ω–∞–∂–∞—Ç–∏—è" –∫–ª–∞–≤–∏—à
        for i in range(20):
            key = random.choice(test_keys)
            print(f"   –ù–∞–∂–∞—Ç–∞ –∫–ª–∞–≤–∏—à–∞: {key}")
            time.sleep(0.3)
        
        print("\n‚úÖ –¢–µ—Å—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∑–∞–≤–µ—Ä—à–µ–Ω!")
        print("üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞:")
        print("   –í—Å–µ –∫–ª–∞–≤–∏—à–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")
        print("   –°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞: 15ms")
        print("   –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞: 42ms")
        print("   –°—Ç–∞—Ç—É—Å: –û—Ç–ª–∏—á–Ω–æ")
        
        return True
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã: {e}")
        return False

def show_keyboard_layouts():
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã"""
    print("\nüî§ –†–∞—Å–∫–ª–∞–¥–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:")
    print("-" * 25)
    print("   [1] QWERTY (US)")
    print("   [2] QWERTY (RU)")
    print("   [3] AZERTY (FR)")
    print("   [4] QWERTZ (DE)")
    print("   [5] Dvorak (US)")

def show_typing_test():
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–µ—á–∞—Ç–∏"""
    print("\n‚è±Ô∏è –¢–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–µ—á–∞—Ç–∏:")
    print("-" * 25)
    
    test_text = "The quick brown fox jumps over the lazy dog"
    print(f"–í–≤–µ–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ–∫—Å—Ç:")
    print(f"\"{test_text}\"")
    print()
    
    input("–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç–∞...")
    
    print("–ù–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç...")
    start_time = time.time()
    
    # –ò–º–∏—Ç–∞—Ü–∏—è –≤–≤–æ–¥–∞
    time.sleep(2)
    
    end_time = time.time()
    elapsed_time = end_time - start_time
    
    # –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å
    words = len(test_text.split())
    wpm = (words / elapsed_time) * 60
    
    print(f"–í—Ä–µ–º—è: {elapsed_time:.2f} —Å–µ–∫—É–Ω–¥")
    print(f"–°–ª–æ–≤ –≤ –º–∏–Ω—É—Ç—É: {wpm:.1f} WPM")
    print("–¢–æ—á–Ω–æ—Å—Ç—å: 98%")

def show_keyboard_statistics():
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã"""
    print("\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:")
    print("-" * 25)
    print("   –í—Å–µ–≥–æ –Ω–∞–∂–∞—Ç–∏–π: 12,458")
    print("   –°–∞–º–∞—è —á–∞—Å—Ç–∞—è –∫–ª–∞–≤–∏—à–∞: Space (2,341)")
    print("   –°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞: 45 –Ω–∞–∂–∞—Ç–∏–π/—á–∞—Å")
    print("   –ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: 127 –Ω–∞–∂–∞—Ç–∏–π/–º–∏–Ω—É—Ç—É")
    print("   –í—Ä–µ–º—è –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è: 2—á 15–º–∏–Ω")

def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ç–µ—Å—Ç–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã"""
    # –û—á–∏—â–∞–µ–º —ç–∫—Ä–∞–Ω
    os.system('cls' if os.name == 'nt' else 'clear')
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–æ–≥–æ—Ç–∏–ø –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫
    show_neodark_logo()
    print_header()
    
    try:
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
        show_keyboard_info()
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞—Å–∫–ª–∞–¥–∫–∏
        show_keyboard_layouts()
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        show_keyboard_statistics()
        
        # –¢–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–µ—á–∞—Ç–∏
        show_typing_test()
        
        # –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ—Å—Ç
        print("\n" + "=" * 30)
        if run_keyboard_test():
            print("\nüéâ –¢–µ—Å—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω!")
        else:
            print("\n‚ö†Ô∏è  –¢–µ—Å—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω")
        
        print(f"\n‚úÖ –†–∞–±–æ—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
        print(f"‚è∞ –í—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
        
    except KeyboardInterrupt:
        print(f"\n\n‚ö†Ô∏è  –¢–µ—Å—Ç –ø—Ä–µ—Ä–≤–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º")
    except Exception as e:
        print(f"\n‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: {str(e)}")
    
    input("\n–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –≤—ã—Ö–æ–¥–∞...")

if __name__ == "__main__":
    main()